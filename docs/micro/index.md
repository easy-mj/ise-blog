---
title: 微前端
categories:
  - 前端架构
tags:
  - 微前端
author:
  name: MJ
  link: https://github.com/easy-mj/ise-blog
---

# 1. 微前端

## 1.1 微前端的定义

微前端（Micro-Frontends）是一种类似于微服务的架构，它将微服务的理念应用于浏览器端，即将 Web 应用由单一的单体应用转变为多个小型前端应用聚合为一的应用。

简单的说：微前端就是在一个 Web 应用中独立运行其他的 Web 应用。

## 1.2 微前端的特点（提供的核心能力）

- `技术栈无关`：主框架不限制接入应用的技术栈，微应用具备完全自主权
- `独立开发、独立部署`：微应用仓库独立，前后端可独立开发，部署完成后主框架自动完成同步更新
- `增量升级`：在面对各种复杂场景时，我们通常很难对一个已经存在的系统做全量的技术栈升级或重构，而微前端是一种非常友好的实施渐进式重构的手段和策略
- `独立运行时`：每个微应用之间状态隔离，运行时状态不共享
- `环境隔离`：应用之间 JavaScript、CSS 隔离避免互相影响
- `消息通信`：统一的通信方式，降低使用通信的成本
- `依赖复用`：解决依赖、公共逻辑需要重复维护的问题

## 1.3 微前端的实现方式对比

> [!TIP] iframe

优势：

- 技术成熟
- 支持整体的页面嵌入
- 天然的支持运行沙箱隔离、独立运行

劣势：

- 页面之间可以是不同的域名（域名鉴权的时候增加了开发量，还存在其他跨域问题的处理等等）
- 需要对应的设计一套应用通讯机制，如何监听、传参格式等内容（使用 postMessage 传递参数，参数格式比较随意且灵活）
- 应用加载、渲染、缓存等体系的实现

> [!TIP] web component

优势：

- 支持自定义元素
- 支持 shadow dom，并可以通过关联进行控制
- 支持模版 template 和 插槽 slot，引入自定义组件内容

劣势：

- 接入微前端需要重写当前项目
- 生态系统不完善，技术过新容易出现兼容性问题
- 整体架构设计复杂，组件与组件之间拆分过细时，容易造成通讯和控制繁琐

> [!TIP] 自研框架

优势：

- 高度定制化，满足需要做兼容的一切场景
- 独立的通信机制和沙箱运行环境，可解决应用之间相互影响的问题
- 支持不同技术栈子应用，可无缝实现页面无刷新渲染

劣势：

- 技术实现难度较高
- 需要设计一套定制的通信机制
- 首次加载会出现资源过大的情况（需要特殊处理）

> 总结

不管哪种实现方式都有它自己的优势和劣势，根据自己项目的实际情况，去看一下哪些劣势是我们可以接受的，哪些优势对于我们项目来说收益是比较高的，这样就可以选取对应的实现方式进行实现了。
